<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_43) on Mon Mar 18 21:29:11 PDT 2013 -->
<TITLE>
StreamingClient (Voldemort)
</TITLE>

<META NAME="date" CONTENT="2013-03-18">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="StreamingClient (Voldemort)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/StreamingClient.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../voldemort/client/protocol/admin/SocketResourceFactory.html" title="class in voldemort.client.protocol.admin"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../voldemort/client/protocol/admin/StreamingClientConfig.html" title="class in voldemort.client.protocol.admin"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?voldemort/client/protocol/admin/StreamingClient.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="StreamingClient.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
voldemort.client.protocol.admin</FONT>
<BR>
Class StreamingClient</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>voldemort.client.protocol.admin.StreamingClient</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>StreamingClient</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>anagpal
 
         The streaming API allows for send events into voldemort stores in the
         async fashion. All the partition and replication logic will be taken
         care of internally.
 
         The users is expected to provide two callbacks, one for performing
         period checkpoints and one for recovering the streaming process from
         the last checkpoint.
 
         NOTE: The API is not thread safe, since if multiple threads use this
         API we cannot make any guarantees about correctness of the
         checkpointing mechanism.
 
         Right now we expect this to used by a single thread per data source</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../voldemort/routing/RoutingStrategy.html" title="interface in voldemort.routing">RoutingStrategy</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#routingStrategy">routingStrategy</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../voldemort/utils/EventThrottler.html" title="class in voldemort.utils">EventThrottler</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#throttler">throttler</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#StreamingClient(voldemort.client.protocol.admin.StreamingClientConfig)">StreamingClient</A></B>(<A HREF="../../../../voldemort/client/protocol/admin/StreamingClientConfig.html" title="class in voldemort.client.protocol.admin">StreamingClientConfig</A>&nbsp;config)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#closeStreamingSession()">closeStreamingSession</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close the streaming session Flush all n/w buffers and call the commit
 callback</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#closeStreamingSession(java.util.concurrent.Callable)">closeStreamingSession</A></B>(java.util.concurrent.Callable&nbsp;resetCheckpointCallback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#closeStreamingSessions()">closeStreamingSessions</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close the streaming session Flush all n/w buffers and call the commit
 callback</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#closeStreamingSessions(java.util.concurrent.Callable)">closeStreamingSessions</A></B>(java.util.concurrent.Callable&nbsp;resetCheckpointCallback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#commitToVoldemort()">commitToVoldemort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flush the network buffer and write all entries to the server Wait for an
 ack from the server This is a blocking call.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#initStreamingSession(java.lang.String, java.util.concurrent.Callable, java.util.concurrent.Callable, boolean)">initStreamingSession</A></B>(java.lang.String&nbsp;store,
                     java.util.concurrent.Callable&nbsp;checkpointCallback,
                     java.util.concurrent.Callable&nbsp;recoveryCallback,
                     boolean&nbsp;allowMerge)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#initStreamingSessions(java.util.List, java.util.concurrent.Callable, java.util.concurrent.Callable, boolean)">initStreamingSessions</A></B>(java.util.List&lt;java.lang.String&gt;&nbsp;stores,
                      java.util.concurrent.Callable&nbsp;checkpointCallback,
                      java.util.concurrent.Callable&nbsp;recoveryCallback,
                      boolean&nbsp;allowMerge)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#initStreamingSessions(java.util.List, java.util.concurrent.Callable, java.util.concurrent.Callable, boolean, java.util.List)">initStreamingSessions</A></B>(java.util.List&lt;java.lang.String&gt;&nbsp;stores,
                      java.util.concurrent.Callable&nbsp;checkpointCallback,
                      java.util.concurrent.Callable&nbsp;recoveryCallback,
                      boolean&nbsp;allowMerge,
                      java.util.List&lt;java.lang.Integer&gt;&nbsp;blackListedNodes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#removeStoreFromSession(java.util.List)">removeStoreFromSession</A></B>(java.util.List&lt;java.lang.String&gt;&nbsp;storeNameToRemove)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a list of stores from the session
 
 First commit all entries for these stores and then cleanup resources</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#streamingPut(voldemort.utils.ByteArray, voldemort.versioning.Versioned)">streamingPut</A></B>(<A HREF="../../../../voldemort/utils/ByteArray.html" title="class in voldemort.utils">ByteArray</A>&nbsp;key,
             <A HREF="../../../../voldemort/versioning/Versioned.html" title="class in voldemort.versioning">Versioned</A>&lt;byte[]&gt;&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A Streaming Put call</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#streamingPut(voldemort.utils.ByteArray, voldemort.versioning.Versioned, java.lang.String)">streamingPut</A></B>(<A HREF="../../../../voldemort/utils/ByteArray.html" title="class in voldemort.utils">ByteArray</A>&nbsp;key,
             <A HREF="../../../../voldemort/versioning/Versioned.html" title="class in voldemort.versioning">Versioned</A>&lt;byte[]&gt;&nbsp;value,
             java.lang.String&nbsp;storeName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../voldemort/client/protocol/admin/StreamingClient.html#updateThrottleLimit(int)">updateThrottleLimit</A></B>(int&nbsp;throttleQPS)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="routingStrategy"><!-- --></A><H3>
routingStrategy</H3>
<PRE>
protected <A HREF="../../../../voldemort/routing/RoutingStrategy.html" title="interface in voldemort.routing">RoutingStrategy</A> <B>routingStrategy</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="throttler"><!-- --></A><H3>
throttler</H3>
<PRE>
protected <A HREF="../../../../voldemort/utils/EventThrottler.html" title="class in voldemort.utils">EventThrottler</A> <B>throttler</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="StreamingClient(voldemort.client.protocol.admin.StreamingClientConfig)"><!-- --></A><H3>
StreamingClient</H3>
<PRE>
public <B>StreamingClient</B>(<A HREF="../../../../voldemort/client/protocol/admin/StreamingClientConfig.html" title="class in voldemort.client.protocol.admin">StreamingClientConfig</A>&nbsp;config)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="updateThrottleLimit(int)"><!-- --></A><H3>
updateThrottleLimit</H3>
<PRE>
public void <B>updateThrottleLimit</B>(int&nbsp;throttleQPS)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initStreamingSession(java.lang.String, java.util.concurrent.Callable, java.util.concurrent.Callable, boolean)"><!-- --></A><H3>
initStreamingSession</H3>
<PRE>
public void <B>initStreamingSession</B>(java.lang.String&nbsp;store,
                                 java.util.concurrent.Callable&nbsp;checkpointCallback,
                                 java.util.concurrent.Callable&nbsp;recoveryCallback,
                                 boolean&nbsp;allowMerge)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>store</CODE> - - the name of the store to be streamed to<DD><CODE>checkpointCallback</CODE> - - the callback that allows for the user to
        record the progress, up to the last event delivered. This callable
        would be invoked every so often internally.<DD><CODE>recoveryCallback</CODE> - - the callback that allows the user to rewind the
        upstream to the position recorded by the last complete call on
        checkpointCallback whenever an exception occurs during the
        streaming session.<DD><CODE>allowMerge</CODE> - - whether to allow for the streaming event to be merged
        with online writes. If not, all online writes since the completion
        of the last streaming session will be lost at the end of the
        current streaming session.</DL>
</DD>
</DL>
<HR>

<A NAME="streamingPut(voldemort.utils.ByteArray, voldemort.versioning.Versioned)"><!-- --></A><H3>
streamingPut</H3>
<PRE>
public void <B>streamingPut</B>(<A HREF="../../../../voldemort/utils/ByteArray.html" title="class in voldemort.utils">ByteArray</A>&nbsp;key,
                         <A HREF="../../../../voldemort/versioning/Versioned.html" title="class in voldemort.versioning">Versioned</A>&lt;byte[]&gt;&nbsp;value)</PRE>
<DL>
<DD>A Streaming Put call
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - - The key<DD><CODE>value</CODE> - - The value</DL>
</DD>
</DL>
<HR>

<A NAME="closeStreamingSession(java.util.concurrent.Callable)"><!-- --></A><H3>
closeStreamingSession</H3>
<PRE>
public void <B>closeStreamingSession</B>(java.util.concurrent.Callable&nbsp;resetCheckpointCallback)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resetCheckpointCallback</CODE> - - the callback that allows for the user to
        clean up the checkpoint at the end of the streaming session so a
        new session could, if necessary, start from 0 position.</DL>
</DD>
</DL>
<HR>

<A NAME="closeStreamingSession()"><!-- --></A><H3>
closeStreamingSession</H3>
<PRE>
public void <B>closeStreamingSession</B>()</PRE>
<DL>
<DD>Close the streaming session Flush all n/w buffers and call the commit
 callback
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
protected void <B>finalize</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>finalize</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initStreamingSessions(java.util.List, java.util.concurrent.Callable, java.util.concurrent.Callable, boolean)"><!-- --></A><H3>
initStreamingSessions</H3>
<PRE>
public void <B>initStreamingSessions</B>(java.util.List&lt;java.lang.String&gt;&nbsp;stores,
                                  java.util.concurrent.Callable&nbsp;checkpointCallback,
                                  java.util.concurrent.Callable&nbsp;recoveryCallback,
                                  boolean&nbsp;allowMerge)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stores</CODE> - - the list of name of the stores to be streamed to<DD><CODE>checkpointCallback</CODE> - - the callback that allows for the user to
        record the progress, up to the last event delivered. This callable
        would be invoked every so often internally.<DD><CODE>recoveryCallback</CODE> - - the callback that allows the user to rewind the
        upstream to the position recorded by the last complete call on
        checkpointCallback whenever an exception occurs during the
        streaming session.<DD><CODE>allowMerge</CODE> - - whether to allow for the streaming event to be merged
        with online writes. If not, all online writes since the completion
        of the last streaming session will be lost at the end of the
        current streaming session.</DL>
</DD>
</DL>
<HR>

<A NAME="initStreamingSessions(java.util.List, java.util.concurrent.Callable, java.util.concurrent.Callable, boolean, java.util.List)"><!-- --></A><H3>
initStreamingSessions</H3>
<PRE>
public void <B>initStreamingSessions</B>(java.util.List&lt;java.lang.String&gt;&nbsp;stores,
                                  java.util.concurrent.Callable&nbsp;checkpointCallback,
                                  java.util.concurrent.Callable&nbsp;recoveryCallback,
                                  boolean&nbsp;allowMerge,
                                  java.util.List&lt;java.lang.Integer&gt;&nbsp;blackListedNodes)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stores</CODE> - - the list of name of the stores to be streamed to<DD><CODE>checkpointCallback</CODE> - - the callback that allows for the user to
        record the progress, up to the last event delivered. This callable
        would be invoked every so often internally.<DD><CODE>recoveryCallback</CODE> - - the callback that allows the user to rewind the
        upstream to the position recorded by the last complete call on
        checkpointCallback whenever an exception occurs during the
        streaming session.<DD><CODE>allowMerge</CODE> - - whether to allow for the streaming event to be merged
        with online writes. If not, all online writes since the completion
        of the last streaming session will be lost at the end of the
        current streaming session.<DD><CODE>blackListedNodes</CODE> - - the list of Nodes not to stream to; we can
        probably recover them later from the replicas</DL>
</DD>
</DL>
<HR>

<A NAME="removeStoreFromSession(java.util.List)"><!-- --></A><H3>
removeStoreFromSession</H3>
<PRE>
public void <B>removeStoreFromSession</B>(java.util.List&lt;java.lang.String&gt;&nbsp;storeNameToRemove)</PRE>
<DL>
<DD>Remove a list of stores from the session
 
 First commit all entries for these stores and then cleanup resources
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>storeNameToRemove</CODE> - List of stores to be removed from the current
        streaming session</DL>
</DD>
</DL>
<HR>

<A NAME="streamingPut(voldemort.utils.ByteArray, voldemort.versioning.Versioned, java.lang.String)"><!-- --></A><H3>
streamingPut</H3>
<PRE>
public void <B>streamingPut</B>(<A HREF="../../../../voldemort/utils/ByteArray.html" title="class in voldemort.utils">ByteArray</A>&nbsp;key,
                         <A HREF="../../../../voldemort/versioning/Versioned.html" title="class in voldemort.versioning">Versioned</A>&lt;byte[]&gt;&nbsp;value,
                         java.lang.String&nbsp;storeName)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - - The key<DD><CODE>value</CODE> - - The value<DD><CODE>storeName</CODE> - takes an additional store name as a parameter
 
        If a store is added mid way through a streaming session we do not
        play catchup and entries that were processed earlier during the
        session will not be applied for the store.</DL>
</DD>
</DL>
<HR>

<A NAME="commitToVoldemort()"><!-- --></A><H3>
commitToVoldemort</H3>
<PRE>
public void <B>commitToVoldemort</B>()</PRE>
<DL>
<DD>Flush the network buffer and write all entries to the server Wait for an
 ack from the server This is a blocking call. It is invoked on every
 Commit batch size of entries It is also called on the close session call
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="closeStreamingSessions(java.util.concurrent.Callable)"><!-- --></A><H3>
closeStreamingSessions</H3>
<PRE>
public void <B>closeStreamingSessions</B>(java.util.concurrent.Callable&nbsp;resetCheckpointCallback)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resetCheckpointCallback</CODE> - - the callback that allows for the user to
        clean up the checkpoint at the end of the streaming session so a
        new session could, if necessary, start from 0 position.</DL>
</DD>
</DL>
<HR>

<A NAME="closeStreamingSessions()"><!-- --></A><H3>
closeStreamingSessions</H3>
<PRE>
public void <B>closeStreamingSessions</B>()</PRE>
<DL>
<DD>Close the streaming session Flush all n/w buffers and call the commit
 callback
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/StreamingClient.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../voldemort/client/protocol/admin/SocketResourceFactory.html" title="class in voldemort.client.protocol.admin"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../voldemort/client/protocol/admin/StreamingClientConfig.html" title="class in voldemort.client.protocol.admin"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?voldemort/client/protocol/admin/StreamingClient.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="StreamingClient.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Jay Kreps, Roshan Sumbaly, Alex Feinberg, Bhupesh Bansal, Lei Gao, Chinmay Soman, Vinoth Chandar, Zhongjie Wu
</BODY>
</HTML>
